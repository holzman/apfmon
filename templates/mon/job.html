{% extends "mon/base.html" %}

{% block title %}UK pilot factory monitor{% endblock %}

{% block content %}

<p>
<table class="left noborder">
<tr><td>FACTORY</td><td>{{ job.fid.name }}</td></tr>
<tr><td>CONDOR_ID</td><td> {{ job.cid }} (<a href="{{ outurl }}">stdout</a>, <a href="{{ errurl }}">stderr</a>, <a href="{{ logurl }}">stdlog</a>, only recent logs)</td></tr>
<tr><td>QUEUE</td><td>{{ job.pandaq }}</td></tr>
<tr><td>CREATED</td><td> {{ job.created }}</td></tr>
<tr><td>MODIFIED</td><td> {{ job.last_modified }}</td></tr>
<tr><td>STATE</td><td> {{ job.state }}</td></tr>
<tr><td>RESULT</td><td> {{ job.result }}</td></tr>
<tr><td>FLAG</td><td> {{ job.flag }}</td></tr>
{% for pid in pids %}
<tr><td>PANDAID</td><td> <a href="http://panda.cern.ch:25980/server/pandamon/query?job={{ pid }}">{{ pid }}</a></td></tr>
{% endfor %}

</table>
</p>

<p>
<table class=log>
{% for m in msgs %}
<tr class="{% cycle odd,even %}">
<td>{{ m.received }}
<td>{{ m.client }}
<td>{{ m.msg }}
</tr>
{% endfor %}
</table>
</p>

<p>
<table class="left">
<tr>
  <th>globusstate (gs)
  <th>Reason
<tr>
  <td>1
  <td>PENDING
</tr>
<tr>
  <td>2
  <td>ACTIVE
</tr>
<tr>
  <td>4
  <td>FAILED
</tr>
<tr>
  <td>8
  <td>DONE
</tr>
<tr>
  <td>16
  <td>SUSPENDED
</tr>
<tr>
  <td>32
  <td>UNSUBMITTED
</tr>
<tr>
  <td>64
  <td>STAGE_IN
</tr>
<tr>
  <td>128
  <td>STAGE_OUT
</tr>
</table>
</p>

<p>
<table class="left">
<tr>
  <th>JobState (js) 
  <th>Reason
<tr>
  <td>0
  <td>Unexpanded
</tr>
<tr>
  <td>1
  <td>Idle
</tr>
<tr>
  <td>2
  <td>Running
</tr>
<tr>
  <td>3
  <td>Removed
</tr>
<tr>
  <td>4
  <td>Completed
</tr>
<tr>
  <td>5
  <td>Held
</tr>
<tr>
  <td>6
  <td>Submission_err
</tr>
</table>


{% comment %}


Condor globusstate (gs):
  1   PENDING The job is waiting for resources to become available to run.
  2   ACTIVE  The job has received resources and the application is executing.
  4   FAILED  The job terminated before completion because an error, user-triggered cancel, or system-triggered cancel.
  8   DONE    The job completed successfully
  16  SUSPENDED   The job has been suspended. Resources which were allocated for this job may have been released due to some scheduler-specific reason.
  32  UNSUBMITTED The job has not been submitted to the scheduler yet, pending the reception of the GLOBUS_GRAM_PROTOCOL_JOB_SIGNAL_COMMIT_REQUEST signal from a client.
  64  STAGE_IN    The job manager is staging in files to run the job.
  128 STAGE_OUT   The job manager is staging out files generated by the job.
  0xFFFFF     ALL     A mask of all job states. 

JobStatus in job ClassAds (js):
  0   Unexpanded  U
  1   Idle    I
  2   Running     R
  3   Removed     X
  4   Completed   C
  5   Held    H
  6   Submission_err  E
  
{% endcomment %}
</p>

{% endblock %}
